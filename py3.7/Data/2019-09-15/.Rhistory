ggplot(x, aes(x = x)) + geom_histogram(binwidth = 0.2)
ggplot(x, aes(x = x)) + geom_histogram(binwidth = 0.1)
ggplot(x, aes(x = x)) + geom_histogram(binwidth = 0.05)
ggplot(x, aes(x = x)) + geom_histogram(binwidth = 0.005)
ggplot(x, aes(x = x)) + geom_histogram(binwidth = 0.06)
ggplot(x, aes(x = x)) + geom_density()
ggplot(x, aes(x = x)) + geom_density()
+ theme_bw(base_family = "Times")
ggplot(x, aes(x = x)) + geom_density() + theme_bw(base_family = "Times")
plot(rnorm(100m,1,0.5))
plot(rnorm(100,1,0.5))
hist(rnorm(1000), breaks = 100)
curve()
curve(dnorm(x, 100, col = "red"))
curve(dnorm(x, 100), col = "red"))
curve(dnorm(x, 100), col = "red")
curve(dnorm(x,mean = mean(rnorm(1000)), sd = sd(rnorm(1000)), add = T, col = "red")
)
curve(dnorm(x,mean = mean(rnorm(1000)), sd = sd(rnorm(1000)), add = T, col = "red"))
curve(dnorm(x,mean = mean(rnorm(1000)), sd = sd(rnorm(1000))), add = T, col = "red")
hist(rnorm(1000), breaks = 1000)
hist(rnorm(1000), breaks = 100))
hist(rnorm(1000), breaks = 100)
curve(dnorm(x,mean = mean(rnorm(1000)), sd = sd(rnorm(1000))), add = T, col = "red")
hist(rnorm(1000), breaks = 100),freq = F)
hist(rnorm(1000), breaks = 100,freq = F)
curve(dnorm(x,mean = mean(rnorm(1000)), sd = sd(rnorm(1000))), add = T, col = "red")
:1
:q
2
q
quit()
install.packages('sf')
library(sf)
ggplot() + geom_sf
library(ggplot2)
ggplot() + geom_sf
nc <- sf::st_read(system.file("shape/nc.shp", package = "sf"), quiet = TRUE)
p <- ggplotly(
ggplot(nc) +
geom_sf(aes(fill = AREA))
)
p <-
ggplot(nc) +
geom_sf(aes(fill = AREA))
p
head(nc)
if (requireNamespace("sf", quietly = TRUE)) {
nc <- sf::st_read(system.file("shape/nc.shp", package = "sf"), quiet = TRUE)
ggplot(nc) +
geom_sf(aes(fill = AREA))
# If not supplied, coord_sf() will take the CRS from the first layer
# and automatically transform all other layers to use that CRS. This
# ensures that all data will correctly line up
nc_3857 <- sf::st_transform(nc, "+init=epsg:3857")
ggplot() +
geom_sf(data = nc) +
geom_sf(data = nc_3857, colour = "red", fill = NA)
# Unfortunately if you plot other types of feature you'll need to use
# show.legend to tell ggplot2 what type of legend to use
nc_3857$mid <- sf::st_centroid(nc_3857$geometry)
ggplot(nc_3857) +
geom_sf(colour = "white") +
geom_sf(aes(geometry = mid, size = AREA), show.legend = "point")
# You can also use layers with x and y aesthetics: these are
# assumed to already be in the common CRS.
ggplot(nc) +
geom_sf() +
annotate("point", x = -80, y = 35, colour = "red", size = 4)
# Thanks to the power of sf, a geom_sf nicely handles varying projections
# setting the aspect ratio correctly.
library(maps)
world1 <- sf::st_as_sf(map('world', plot = FALSE, fill = TRUE))
ggplot() + geom_sf(data = world1)
world2 <- sf::st_transform(
world1,
"+proj=laea +y_0=0 +lon_0=155 +lat_0=-90 +ellps=WGS84 +no_defs"
)
ggplot() + geom_sf(data = world2)
# To add labels, use geom_sf_label().
ggplot(nc_3857[1:3, ]) +
geom_sf(aes(fill = AREA)) +
geom_sf_label(aes(label = NAME))
}
install.packages('rgeos')
library(rgeos)
# Thanks to the power of sf, a geom_sf nicely handles varying projections
# setting the aspect ratio correctly.
library(maps)
library(sf)
library(ggplot2)
if (requireNamespace("sf", quietly = TRUE)) {
nc <- sf::st_read(system.file("shape/nc.shp", package = "sf"), quiet = TRUE)
ggplot(nc) +
geom_sf(aes(fill = AREA))
# If not supplied, coord_sf() will take the CRS from the first layer
# and automatically transform all other layers to use that CRS. This
# ensures that all data will correctly line up
nc_3857 <- sf::st_transform(nc, "+init=epsg:3857")
ggplot() +
geom_sf(data = nc) +
geom_sf(data = nc_3857, colour = "red", fill = NA)
# Unfortunately if you plot other types of feature you'll need to use
# show.legend to tell ggplot2 what type of legend to use
nc_3857$mid <- sf::st_centroid(nc_3857$geometry)
ggplot(nc_3857) +
geom_sf(colour = "white") +
geom_sf(aes(geometry = mid, size = AREA), show.legend = "point")
# You can also use layers with x and y aesthetics: these are
# assumed to already be in the common CRS.
ggplot(nc) +
geom_sf() +
annotate("point", x = -80, y = 35, colour = "red", size = 4)
# Thanks to the power of sf, a geom_sf nicely handles varying projections
# setting the aspect ratio correctly.
library(maps)
world1 <- sf::st_as_sf(map('world', plot = FALSE, fill = TRUE))
ggplot() + geom_sf(data = world1)
world2 <- sf::st_transform(
world1,
"+proj=laea +y_0=0 +lon_0=155 +lat_0=-90 +ellps=WGS84 +no_defs"
)
ggplot() + geom_sf(data = world2)
# To add labels, use geom_sf_label().
ggplot(nc_3857[1:3, ]) +
geom_sf(aes(fill = AREA)) +
geom_sf_label(aes(label = NAME))
}
install.packages('geom_sf_label')
library(sf)
library(ggplot2)
library(rgeos)
if (requireNamespace("sf", quietly = TRUE)) {
nc <- sf::st_read(system.file("shape/nc.shp", package = "sf"), quiet = TRUE)
ggplot(nc) +
geom_sf(aes(fill = AREA))
# If not supplied, coord_sf() will take the CRS from the first layer
# and automatically transform all other layers to use that CRS. This
# ensures that all data will correctly line up
nc_3857 <- sf::st_transform(nc, "+init=epsg:3857")
ggplot() +
geom_sf(data = nc) +
geom_sf(data = nc_3857, colour = "red", fill = NA)
# Unfortunately if you plot other types of feature you'll need to use
# show.legend to tell ggplot2 what type of legend to use
nc_3857$mid <- sf::st_centroid(nc_3857$geometry)
ggplot(nc_3857) +
geom_sf(colour = "white") +
geom_sf(aes(geometry = mid, size = AREA), show.legend = "point")
# You can also use layers with x and y aesthetics: these are
# assumed to already be in the common CRS.
ggplot(nc) +
geom_sf() +
annotate("point", x = -80, y = 35, colour = "red", size = 4)
# Thanks to the power of sf, a geom_sf nicely handles varying projections
# setting the aspect ratio correctly.
library(maps)
world1 <- sf::st_as_sf(map('world', plot = FALSE, fill = TRUE))
ggplot() + geom_sf(data = world1)
world2 <- sf::st_transform(
world1,
"+proj=laea +y_0=0 +lon_0=155 +lat_0=-90 +ellps=WGS84 +no_defs"
)
ggplot() + geom_sf(data = world2)
# To add labels, use geom_sf_label().
ggplot(nc_3857[1:3, ]) +
geom_sf(aes(fill = AREA)) +
#geom_sf_label(aes(label = NAME))
}
library(sf)
library(ggplot2)
library(rgeos)
if (requireNamespace("sf", quietly = TRUE)) {
nc <- sf::st_read(system.file("shape/nc.shp", package = "sf"), quiet = TRUE)
ggplot(nc) +
geom_sf(aes(fill = AREA))
# If not supplied, coord_sf() will take the CRS from the first layer
# and automatically transform all other layers to use that CRS. This
# ensures that all data will correctly line up
nc_3857 <- sf::st_transform(nc, "+init=epsg:3857")
ggplot() +
geom_sf(data = nc) +
geom_sf(data = nc_3857, colour = "red", fill = NA)
# Unfortunately if you plot other types of feature you'll need to use
# show.legend to tell ggplot2 what type of legend to use
nc_3857$mid <- sf::st_centroid(nc_3857$geometry)
ggplot(nc_3857) +
geom_sf(colour = "white") +
geom_sf(aes(geometry = mid, size = AREA), show.legend = "point")
# You can also use layers with x and y aesthetics: these are
# assumed to already be in the common CRS.
ggplot(nc) +
geom_sf() +
annotate("point", x = -80, y = 35, colour = "red", size = 4)
# Thanks to the power of sf, a geom_sf nicely handles varying projections
# setting the aspect ratio correctly.
library(maps)
world1 <- sf::st_as_sf(map('world', plot = FALSE, fill = TRUE))
ggplot() + geom_sf(data = world1)
world2 <- sf::st_transform(
world1,
"+proj=laea +y_0=0 +lon_0=155 +lat_0=-90 +ellps=WGS84 +no_defs"
)
ggplot() + geom_sf(data = world2)
# To add labels, use geom_sf_label().
ggplot(nc_3857[1:3, ]) +
geom_sf(aes(fill = AREA))
#geom_sf_label(aes(label = NAME))
}
#DATA ANALYSIS FOR ALL HOUSING DATA GATHERED IN CALIFORNIA CRAIGSLIST
library(tidyverse)
library(viridis)
library(ggmap)
setwd("/Users/irahorecka/Desktop/Harddrive_Desktop/Python/CL_Mining/py3.7/Data/2019-09-15")
dat <-  read.csv("2019-09-15_all_craigslist_housing_eby_California.csv", sep = ',', header=T, stringsAsFactors = F)
dat <- dat %>%
filter(Post.has.Geotag != 'None',
Area!='None')
for(i in 1:length(dat$CL.State)){
x <- str_extract_all(dat$Post.has.Geotag[i],"\\(?[0-9,.]+\\)?")[[1]][1]
dat$long[i] <- substr(x,2,nchar(x)-1)
y <- str_extract_all(dat$Post.has.Geotag[i],"\\(?[0-9,.]+\\)?")[[1]][2]
dat$lat[i] <- substr(y,0,nchar(y)-1)
dat$Price[i] <- gsub(",", "", substr(dat$Price[i],2,20), fixed = TRUE)
dat$Area[i] <- substr(dat$Area[i],1,nchar(dat$Area[i])-3)
}
dat <- dat[-106,]
dat$long <- as.numeric(dat$long)
dat$lat <- -(as.numeric(dat$lat))+.033
dat$Price <- as.numeric(dat$Price)
dat <- dat %>%
filter(Price > quantile(Price,.25)-1.5*(IQR(Price)),
Price < quantile(Price,.75)+1.5*(IQR(Price)))
dat$Price_Area <- dat$Price/as.numeric(dat$Area)
dat <- dat %>%
filter(Price_Area > quantile(Price_Area,.25)-1.5*(IQR(Price_Area)),
Price_Area < quantile(Price_Area,.75)+1.5*(IQR(Price_Area)),
Price_Area > 1
)
states <- map_data('state')
counties <- map_data('county')
ca_df <- subset(states, region == "california")
ca_county <- subset(counties, region == "california")
#dat$long <-  as.numeric(substr((str_extract_all(dat$Post.has.Geotag,"\\(?[0-9,.]+\\)?"))[[1]][1],2,nchar(dat$Post.has.Geotag)-2))
#ca_county <- merge(ca_county, county_cl[, c("subregion", "Median")], by="subregion")
dat <- dat %>%
filter(Bedrooms == 2)
ca_base <- ggplot(ca_df, aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = 'black',fill='grey20')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.2, -123),  ylim = c(36.7, 38.9), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5) +
scale_color_viridis(option = 'B', name = 'Price')
hist(dat$Price_Area)
qqnorm(dat$Price_Area)
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.2, -123),  ylim = c(36.7, 38.9), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.2, -123),  ylim = c(36.7, 38.9), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 14) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.2, -123),  ylim = c(36.7, 38.9), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
qmap('Liverpool')
qmap('Liverpool')
if(!requireNamespace("devtools")) install.packages("devtools")
devtools::install_github("dkahle/ggmap")
register_google(key = 'AIzaSyDdaMsCLps-ngRwsL8WT9QDH5tUJksjDdU')
geocode("Berlin")
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.2, -123),  ylim = c(37, 38), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-122, -123),  ylim = c(37, 38), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.8, -123),  ylim = c(37, 38), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.8, -122),  ylim = c(37, 38), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.8, -122.5),  ylim = c(37, 38), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37, 38), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37, 37.5), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
#DATA ANALYSIS FOR ALL HOUSING DATA GATHERED IN CALIFORNIA CRAIGSLIST
library(tidyverse)
library(viridis)
library(ggmap)
setwd("/Users/irahorecka/Desktop/Harddrive_Desktop/Python/CL_Mining/py3.7/Data/2019-09-15")
dat <-  read.csv("2019-09-15_all_craigslist_housing_eby_California.csv", sep = ',', header=T, stringsAsFactors = F)
dat <- dat %>%
filter(Post.has.Geotag != 'None',
Area!='None')
for(i in 1:length(dat$CL.State)){
x <- str_extract_all(dat$Post.has.Geotag[i],"\\(?[0-9,.]+\\)?")[[1]][1]
dat$long[i] <- substr(x,2,nchar(x)-1)
y <- str_extract_all(dat$Post.has.Geotag[i],"\\(?[0-9,.]+\\)?")[[1]][2]
dat$lat[i] <- substr(y,0,nchar(y)-1)
dat$Price[i] <- gsub(",", "", substr(dat$Price[i],2,20), fixed = TRUE)
dat$Area[i] <- substr(dat$Area[i],1,nchar(dat$Area[i])-3)
}
dat <- dat[-106,]
dat$long <- as.numeric(dat$long)
dat$lat <- -(as.numeric(dat$lat))+.033
dat$Price <- as.numeric(dat$Price)
dat <- dat %>%
filter(Price > quantile(Price,.25)-1.5*(IQR(Price)),
Price < quantile(Price,.75)+1.5*(IQR(Price)))
dat$Price_Area <- dat$Price/as.numeric(dat$Area)
dat <- dat %>%
filter(Price_Area > quantile(Price_Area,.25)-1.5*(IQR(Price_Area)),
Price_Area < quantile(Price_Area,.75)+1.5*(IQR(Price_Area)),
Price_Area > 1
)
states <- map_data('state')
counties <- map_data('county')
ca_df <- subset(states, region == "california")
ca_county <- subset(counties, region == "california")
#dat$long <-  as.numeric(substr((str_extract_all(dat$Post.has.Geotag,"\\(?[0-9,.]+\\)?"))[[1]][1],2,nchar(dat$Post.has.Geotag)-2))
#ca_county <- merge(ca_county, county_cl[, c("subregion", "Median")], by="subregion")
dat <- dat %>%
filter(Bedrooms < 3)
ca_base <- ggplot(ca_df, aes(x = long, y = lat, group = group)) +
coord_fixed(1.3) +
geom_polygon(color = 'black',fill='grey20')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
hist(dat$Price_Area)
qqnorm(dat$Price_Area)
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price') +
geom_point(y = 37.3861, x = -122.0839)
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price') +
geom_point(y = 37.3861, x = -122.0839, size = 4, color = 'blue')
hist(dat$Price_Area)
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price') #+
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price') +
geom_point(y = 37.3895, x = -122.0184, size = 4, color = 'blue') #94085
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price') +
geom_point(y = 37.3895, x = -122.0184, size = 4, color = 'blue', alpha = .5) #94085
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price') +
geom_point(y = 37.3895, x = -122.0184, size = 4, color = 'blue', alpha = .1) #94085
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price') +
geom_point(y = 37.3895, x = -122.0184, size = 4, color = 'blue', aes(alpha = .1)) #94085
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price') +
geom_point(y = 37.3895, x = -122.0184, size = 4, color = 'black') #94085
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price') +
geom_point(y = 37.3895, x = -122.0184, size = 4, alpha = .5, color = 'black') #94085
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
geom_point(y = 37.3895, x = -122.0184, size = 4, alpha = .5, color = 'black') +#94085
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
geom_point(y = 37.3895, x = -122.0184, size = 10, alpha = .5, color = 'black') +#94085
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
geom_point(y = 37.46, x = -122.0184, size = 10, alpha = .5, color = 'black') +#94085
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
geom_point(y = 37.3895, x = -122.0184, size = 10, alpha = .5, color = 'black') +#94085
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
geom_point(y = 37.3895, x = -122.0184, size = 50, alpha = .5, color = 'black') +#94085
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
geom_point(y = 37.3895, x = -122.0184, size = 50, alpha = .5, color = 'steelblue') +#94085
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
geom_point(y = 37.3895, x = -122.0184, size = 50, alpha = .5, color = 'red') +#94085
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
geom_point(y = 37.3895, x = -122.0184, size = 50, alpha = .5, color = 'black') +#94085
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
ca_base + theme_nothing() +
geom_polygon(data = ca_county, fill = NA, color = "black") +
geom_polygon(color = "black", fill = NA) +
geom_point(y = 37.3895, x = -122.0184, size = 60, alpha = .5, color = 'black') +#94085
coord_fixed(xlim = c(-121.7, -122.5),  ylim = c(37.2, 37.6), ratio = 1.3) +
geom_point(data=dat, aes(y=long,x=lat, color=(Price_Area)), inherit.aes = F, size = 2, alpha = .5, shape = 17) +
scale_color_viridis(option = 'B', name = 'Price')
etfs <- sp500_px
